cmake_minimum_required(VERSION 3.21)
set(src_dir Hello.cpp) # 显示的指定变量
include_directories(${CMAKE_CURRENT_SOURCE_DIR})
message("${CMAKE_CURRENT_SOURCE_DIR}")
add_library(hello SHARED ${src_dir}) # 生成动态库
SET_TARGET_PROPERTIES(hello PROPERTIES OUTPUT_NAME "hello")
SET_TARGET_PROPERTIES(hello PROPERTIES CLEAN_DIRECT_OUTPUT 1)
SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_BINARY_DIR}/executable) # 修改可执行文件路径
SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR}/lib) # 修改库文件路径
SET_TARGET_PROPERTIES(hello PROPERTIES VERSION 1.2 SOVERSION 1) # 没有成功
INSTALL(FILES Hello.h DESTINATION include/hello) # 安装头文件
INSTALL(TARGETS hello LIBRARY DESTINATION bin) # LIBRARY指动态库
add_library(hello_static STATIC ${src_dir}) # 生成静态库
SET_TARGET_PROPERTIES(hello_static PROPERTIES OUTPUT_NAME "hello") # 对静态库重命名
SET_TARGET_PROPERTIES(hello_static PROPERTIES CLEAN_DIRECT_OUTPUT 1) 
INSTALL(TARGETS hello_static ARCHIVE DESTINATION lib) # LIBRARY指动态库，ARCHIVE指静态库



